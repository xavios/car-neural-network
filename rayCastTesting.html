<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="description" content="Webpage description goes here" />
    <meta charset="utf-8" />
    <title>Test ray casts..</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="author" content="" />
  </head>

  <body>
    <canvas id="myCanvas"></canvas>
    <script>
      const canvas = document.getElementById("myCanvas");
      canvas.width = 800;
      canvas.height = 600;
      const ctx = canvas.getContext("2d");
      ctx.translate(100, 100);
      ctx.lineWidth = 3;
      ctx.rect(10, 10, 50, 80);
      ctx.stroke();

      const origo = { x: 10 + 25, y: 10 + 40 };

      const rayCnt = 3;
      const rayLenght = 100;
      ctx.strokeStyle = "yellow";
      const baseAngle = Math.PI / 4;
      console.log(Math.PI / 4, "45Â°");
      solutionPresented();

      function lerp(a, b, percent) {
        return a + (b - a) * percent;
      }

      function solutionPresented() {
        for (let i = 0; i <= rayCnt - 1; i++) {
          const angle = lerp(baseAngle, -baseAngle, i / (rayCnt - 1));
          console.log(
            "Ray calculation: percent: ",
            i / (rayCnt - 1),
            ", angle: ",
            angle,
            ", sin(angle) = ",
            Math.sin(angle),
            ", cos(angle) = ",
            Math.cos(angle),
            ", x: ",
            origo.x + Math.sin(angle) * rayLenght,
            ", y: ",
            origo.y - Math.cos(angle) * rayLenght
          );
          const x = origo.x + Math.sin(angle) * rayLenght;
          const y = origo.y - Math.cos(angle) * rayLenght;
          ctx.beginPath();
          ctx.moveTo(origo.x, origo.y);
          ctx.lineTo(x, y);
          ctx.stroke();
        }
      }
    </script>
  </body>
  <!-- adding curves to the road would be a nice homework -->
</html>
